{"version":3,"sources":["components/Navigation/Navigation.styles.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.styles.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.styles.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/store.js","index.js","services/contacts-api.js","redux/contacts/contacts-operations.js","redux/auth/auth-slice.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/contacts/contacts-slice.js"],"names":["NLink","styled","Link","Navigation","isLoggedIn","useSelector","authSelectors","getIsLoggedIn","Button","color","to","Wrapper","span","Span","UserMenu","dispatch","useDispatch","email","getUserEmail","type","onClick","authOperations","logOut","AuthNav","useStyles","makeStyles","theme","root","flexGrow","title","ButtonAppBar","classes","className","AppBar","position","Toolbar","Typography","variant","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","HomeView","lazy","SignUpView","LoginView","ContactsView","App","useEffect","fetchCurrentUser","fallback","path","exact","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","thunk","authPersistConfig","key","storage","whiteList","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById","fetchContactsApi","a","axios","get","data","fetchPostNewContact","contact","post","removeContactById","id","delete","fetchContacts","createAsyncThunk","_","rejectWithValue","fetchAddContact","fetchDeleteContact","authSlice","createSlice","name","initialState","user","token","error","extraReducers","register","fulfilled","state","action","payload","pending","rejected","message","logIn","defaults","baseURL","headers","common","Authorization","credentials","response","thunkAPI","getState","persistedToken","operations","getUserName","getToken","contactsSlice","items","filter","status","isLoading","isDeleting","reducers","changeFilter","item","actions"],"mappings":"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","file":"static/js/main.1067214f.chunk.js","sourcesContent":["import { Link } from 'react-router-dom'\nimport styled from '@emotion/styled'\n\nexport const NLink = styled(Link)`\n  font-size: 16px;\n  text-decoration: none;\n  color: #ffffff;\n`\n","import { authSelectors } from 'redux/auth'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport { NLink } from './Navigation.styles'\n\nexport default function Navigation() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn)\n  return (\n    <nav>\n      <ul>\n        <Button color=\"inherit\">\n          <NLink to=\"/\">Main Page</NLink>\n        </Button>\n        {isLoggedIn && (\n          <Button color=\"inherit\">\n            <NLink to=\"/contacts\">Contacts</NLink>\n          </Button>\n        )}\n      </ul>\n    </nav>\n  )\n}\n","import styled from '@emotion/styled'\n\nexport const Wrapper = styled.span`\n  font-size: 16px;\n`\nexport const Span = styled.span`\n  margin-right: 5px;\n  font-size: 16px;\n  font-weight: 500;\n`\n","import { authSelectors, authOperations } from 'redux/auth'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle'\nimport { Wrapper, Span } from './UserMenu.styles'\n\nexport default function UserMenu() {\n  const dispatch = useDispatch()\n  const email = useSelector(authSelectors.getUserEmail)\n\n  return (\n    <div>\n      <Span>{email}</Span>\n      <AccountCircleIcon />\n      <Button\n        color=\"inherit\"\n        type=\"button\"\n        onClick={() => {\n          dispatch(authOperations.logOut())\n        }}\n      >\n        <Wrapper>LogOut</Wrapper>\n      </Button>\n    </div>\n  )\n}\n","import { Link } from 'react-router-dom'\nimport styled from '@emotion/styled'\n\nexport const NLink = styled(Link)`\n  font-size: 16px;\n  text-decoration: none;\n  color: #ffffff;\n`\n","import Button from '@material-ui/core/Button'\nimport { NLink } from './AuthNav.styles'\n\nexport default function AuthNav() {\n  return (\n    <ul>\n      <Button color=\"inherit\">\n        <NLink to=\"/users/login\">Login</NLink>\n      </Button>\n      <Button color=\"inherit\">\n        <NLink to=\"/users/signup\">SignUp</NLink>\n      </Button>\n    </ul>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport Navigation from 'components/Navigation'\nimport UserMenu from 'components/UserMenu'\nimport AuthNav from 'components/AuthNav'\nimport { authSelectors } from 'redux/auth'\nimport { useSelector } from 'react-redux'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  title: {\n    flexGrow: 1,\n  },\n}))\n\nexport default function ButtonAppBar() {\n  const classes = useStyles()\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn)\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            <Navigation />\n          </Typography>\n          {isLoggedIn ? <UserMenu /> : <AuthNav />}\n        </Toolbar>\n      </AppBar>\n    </div>\n  )\n}\n\n// const styles = {\n//   header: {\n//     margin: '0px 30px',\n//     display: 'flex',\n//     justifyContent: 'space-between',\n//     alignItems: 'center',\n//     borderBottom: '1px solid #2A363B',\n//   },\n// }\n\n// export default function AppBar() {\n//   const isLoggedIn = useSelector(authSelectors.getIsLoggedIn)\n//   return (\n//     <header style={styles.header}>\n//       <Navigation />\n//       {isLoggedIn ? <UserMenu /> : <AuthNav />}\n//     </header>\n//   )\n// }\n","import { Redirect, Route } from 'react-router'\nimport { authSelectors } from 'redux/auth'\nimport { useSelector } from 'react-redux'\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn)\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  )\n}\n","import { Redirect, Route } from 'react-router'\nimport { authSelectors } from 'redux/auth'\nimport { useSelector } from 'react-redux'\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn)\n  const shouldRedirect = isLoggedIn && restricted\n\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  )\n}\n","import AppBar from 'components/AppBar'\nimport { lazy, Suspense } from 'react'\nimport { Switch, Redirect } from 'react-router-dom'\nimport { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { authOperations } from 'redux/auth'\nimport PrivateRoute from 'components/PrivateRoute'\nimport PublicRoute from 'components/PublicRoute'\n\nconst HomeView = lazy(() =>\n  import('views/HomeView' /* webpackChunkName: \"home-view\" */),\n)\nconst SignUpView = lazy(() =>\n  import('views/SignUpView' /* webpackChunkName: \"signup-view\" */),\n)\nconst LoginView = lazy(() =>\n  import('views/LoginView' /* webpackChunkName: \"login-view\" */),\n)\nconst ContactsView = lazy(() =>\n  import('views/ContactsView' /* webpackChunkName: \"contacts-view\" */),\n)\n\nfunction App() {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser())\n  }, [dispatch])\n\n  return (\n    <>\n      <AppBar />\n      <Switch>\n        <Suspense fallback={<p>Loading...</p>}>\n          <PublicRoute path=\"/\" exact>\n            <HomeView />\n          </PublicRoute>\n          <PublicRoute path=\"/users/signup\" restricted>\n            <SignUpView />\n          </PublicRoute>\n          <PublicRoute path=\"/users/login\" restricted redirectTo=\"/contacts\">\n            <LoginView />\n          </PublicRoute>\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/users/login\">\n            <ContactsView />\n          </PrivateRoute>\n          <Redirect to=\"/\" />\n        </Suspense>\n      </Switch>\n    </>\n  )\n}\n\nexport default App\n","import { getDefaultMiddleware, configureStore } from '@reduxjs/toolkit'\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist'\nimport authReducer from './auth/auth-slice'\nimport storage from 'redux-persist/lib/storage'\nimport logger from 'redux-logger'\nimport contactsReducer from './contacts/contacts-slice'\nimport thunk from 'redux-thunk'\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  thunk,\n]\nif (process.env.NODE_ENV === `development`) {\n  middleware.push(logger)\n}\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whiteList: ['token'],\n}\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV !== 'production',\n})\n\nexport const persistor = persistStore(store)\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport store from './redux/store'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { persistor } from './redux/store'\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n","import axios from 'axios'\n\nexport const fetchContactsApi = async () => {\n  const { data } = await axios.get('/contacts')\n  return data\n}\n\nexport const fetchPostNewContact = async (contact) => {\n  const { data } = await axios.post('/contacts', contact)\n  return data\n}\n\nexport const removeContactById = async (id) => {\n  await axios.delete(`/contacts/${id}`)\n  return id\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit'\nimport {\n  fetchContactsApi,\n  fetchPostNewContact,\n  removeContactById,\n} from '../../services/contacts-api'\n\nexport const fetchContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async (_, { rejectWithValue }) => {\n    try {\n      const contacts = await fetchContactsApi()\n      return contacts\n    } catch (error) {\n      return rejectWithValue()\n    }\n  },\n)\n\nexport const fetchAddContact = createAsyncThunk(\n  'contacts/addContact',\n  async (contact, { rejectWithValue }) => {\n    try {\n      const contacts = await fetchPostNewContact(contact)\n      return contacts\n    } catch (error) {\n      return rejectWithValue()\n    }\n  },\n)\n\nexport const fetchDeleteContact = createAsyncThunk(\n  'contacts/deleteContact',\n  async (id, { rejectWithValue }) => {\n    try {\n      const contacts = await removeContactById(id)\n      return contacts\n    } catch (error) {\n      return rejectWithValue()\n    }\n  },\n)\n","import { createSlice } from '@reduxjs/toolkit'\nimport { authOperations } from '.'\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  error: null,\n}\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user\n      state.token = action.payload.token\n      state.isLoggedIn = true\n    },\n    [authOperations.register.pending](state, action) {\n      state.error = null\n    },\n    [authOperations.register.rejected](state, action) {\n      state.error = action.error.message\n    },\n\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user\n      state.token = action.payload.token\n      state.isLoggedIn = true\n    },\n    [authOperations.logIn.pending](state, action) {\n      state.error = null\n    },\n    [authOperations.logIn.rejected](state, action) {\n      state.error = action.error.message\n    },\n    [authOperations.logOut.fulfilled](state, action) {\n      state.user = { name: null, email: null }\n      state.token = null\n      state.isLoggedIn = false\n    },\n    [authOperations.logOut.pending](state, action) {\n      state.error = null\n    },\n    [authOperations.logOut.rejected](state, action) {\n      state.error = action.error.message\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload\n      state.isLoggedIn = true\n    },\n  },\n})\n\nexport default authSlice.reducer\n","import axios from 'axios'\nimport { createAsyncThunk } from '@reduxjs/toolkit'\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com'\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = ''\n  },\n}\n\nexport const register = createAsyncThunk(\n  'auth/register',\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('/users/signup', credentials)\n      token.set(data.token)\n      return data\n    } catch (error) {\n      return rejectWithValue(error.response.data)\n    }\n  },\n)\n\nexport const logIn = createAsyncThunk(\n  'auth/login',\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('/users/login', credentials)\n      token.set(data.token)\n      return data\n    } catch (error) {\n      return rejectWithValue(error.response.data)\n    }\n  },\n)\n\nexport const logOut = createAsyncThunk(\n  'auth/logout',\n  async (_, { rejectWithValue }) => {\n    try {\n      await axios.post('/users/logout')\n      token.unset()\n    } catch (error) {\n      return rejectWithValue(error.response.data)\n    }\n  },\n)\n\nexport const fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState()\n    const persistedToken = state.auth.token\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue()\n    }\n\n    token.set(persistedToken)\n    try {\n      const { data } = await axios.get('/users/current')\n      return data\n    } catch (error) {\n      return thunkAPI.rejectWithValue()\n    }\n  },\n)\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n}\nexport default operations\n","export const getIsLoggedIn = (state) => state.auth.isLoggedIn\n\nexport const getUserName = (state) => state.auth.user.name\n\nexport const getUserEmail = (state) => state.auth.user.email\n\nexport const getToken = (state) => state.auth.token\n","import { createSlice } from '@reduxjs/toolkit'\nimport {\n  fetchContacts,\n  fetchAddContact,\n  fetchDeleteContact,\n} from './contacts-operations'\n\nconst initialState = {\n  items: [],\n  filter: '',\n  status: null,\n  isLoading: false,\n  isDeleting: false,\n  error: null,\n}\n\nconst error = 'Error'\nconst loading = 'Loading'\n\nconst contactsSlice = createSlice({\n  name: 'contacts',\n  initialState,\n  reducers: {\n    changeFilter: (state, action) => {\n      state.filter = action.payload\n    },\n  },\n\n  extraReducers: {\n    [fetchContacts.fulfilled]: (state, action) => {\n      state.items = action.payload\n      state.status = null\n      state.error = null\n    },\n    [fetchContacts.pending]: (state) => {\n      state.status = loading\n      state.error = null\n    },\n    [fetchContacts.rejected]: (state) => {\n      state.status = null\n      state.error = error\n    },\n    [fetchAddContact.fulfilled]: (state, action) => {\n      state.items = [...state.items, action.payload]\n      state.error = null\n      state.status = null\n      state.isLoading = false\n    },\n    [fetchAddContact.pending]: (state) => {\n      state.error = null\n      state.status = loading\n      state.isLoading = true\n    },\n    [fetchAddContact.rejected]: (state) => {\n      state.error = error\n      state.status = null\n      state.isLoading = false\n    },\n    [fetchDeleteContact.fulfilled]: (state, action) => {\n      state.items = state.items.filter((item) => item.id !== action.payload)\n      state.status = null\n      state.error = null\n      state.isDeleting = false\n    },\n    [fetchDeleteContact.pending]: (state) => {\n      state.status = loading\n      state.error = null\n      state.isDeleting = true\n    },\n    [fetchDeleteContact.rejected]: (state) => {\n      state.status = null\n      state.error = error\n      state.isDeleting = false\n    },\n  },\n})\n\nexport const { changeFilter } = contactsSlice.actions\nexport default contactsSlice.reducer\n"],"sourceRoot":""}